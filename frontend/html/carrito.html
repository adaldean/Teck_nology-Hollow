<!DOCTYPE html>
<html lang="es">
<head> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teck_nology-Hollow | Inicio</title>
    <link rel="icon" href="../../static/images/Tech_Icon.png"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;600&family=Montserrat:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/estilo_carrito.css"> 
</head>

<body>
    <button class="theme-toggle" onclick="toggleDarkMode()" title="Cambiar tema">
        <i id="theme-icon" class="fas fa-moon"></i>
    </button>

    <header class="main-header">
        <div class="logo-container">
            <img src="../../static/images/tecknology_logo.png" alt="Logo de Tecknology" class="logo">
        </div>
    </header>

    <main class="main-content">
        <div class="product-grid">
            <div class="product-card">
                <h3 class="card-title">Laptop Gamer X-Pro</h3>
                <p class="price">$28500<span class="price-suffix"> MXN</span></p>
                <ul class="features-list">
                    <li>• Procesador: i7 12th Gen</li>
                    <li>• RAM: 16 GB DDR5</li>
                </ul>
                <button class="add-to-cart" onclick="agregarAlCarrito('Laptop Gamer X-Pro', 28500)">Agregar</button>
            </div>
            <div class="product-card">
                <h3 class="card-title">Smartphone Ultra 15</h3>
                <p class="price">$19999<span class="price-suffix"> MXN</span></p>
                <ul class="features-list">
                    <li>• Pantalla: 6.7" OLED</li>
                    <li>• Almacenamiento: 256 GB</li>
                </ul>
                <button class="add-to-cart" onclick="agregarAlCarrito('Smartphone Ultra 15', 19999)">Agregar</button>
            </div>
            <div class="product-card">
                <h3 class="card-title">Audífonos BT Pro</h3>
                <p class="price">$1899<span class="price-suffix"> MXN</span></p>
                <ul class="features-list">
                    <li>• Tipo: Cancelación de Ruido</li>
                    <li>• Batería: 30 horas</li>
                </ul>
                <button class="add-to-cart" onclick="agregarAlCarrito('Audífonos BT Pro', 1899)">Agregar</button>
            </div>
        </div>
        <button class="pay-button" onclick="pagar()">Pagar Ahora</button>
    </main>

    <div id="modalAuth" class="modal">
      <div class="modal-content">
        <span class="close" onclick="cerrarModal('modalAuth')">&times;</span>
        <h2>Inicia sesión</h2>
        <label>Correo</label>
        <input type="email" id="correoLogin" placeholder="ejemplo@correo.com">
        <label>Contraseña</label>
        <input type="password" id="passwordLogin">
        <button class="add-to-cart" style="width: 100%; margin-top: 20px;" onclick="iniciarSesion()">Entrar</button>
        <p style="text-align: center; margin-top: 15px; font-size: 0.9rem;">
            ¿No tienes cuenta? <a href="Crear_cuenta.html" style="color: var(--primary); font-weight: 600; text-decoration: none;">Crear cuenta</a>
        </p>
      </div>
    </div>

    <div id="modalPago" class="modal">
      <div class="modal-content">
        <span class="close" onclick="cerrarModal('modalPago')">&times;</span>
        <h2>Datos de transacción</h2>
        <form id="formPago">
          <input type="text" placeholder="Cuenta origen" required>
          <input type="text" placeholder="Cuenta destino" required>
          <input type="number" placeholder="Comisión $" required>
          <input type="date" required>
          <button type="submit" class="add-to-cart" style="width: 100%; margin-top: 15px;">Confirmar Pago</button>
        </form>
      </div>
    </div>

    <script>
        // Lógica de tema persistente
        function applyTheme() {
            const theme = localStorage.getItem('theme');
            if (theme === 'dark') {
                document.body.classList.add('dark-mode');
                document.getElementById("theme-icon").classList.replace("fa-moon", "fa-sun");
            }
        }
        applyTheme();

        function toggleDarkMode() {
            const body = document.body;
            const icon = document.getElementById("theme-icon");
            body.classList.toggle("dark-mode");
            const isDark = body.classList.contains("dark-mode");
            icon.classList.replace(isDark ? "fa-moon" : "fa-sun", isDark ? "fa-sun" : "fa-moon");
            localStorage.setItem("theme", isDark ? "dark" : "light");
        }

        function pagar() {
            localStorage.getItem("usuario") ? abrirModal("modalPago") : abrirModal("modalAuth");
        }

        function iniciarSesion() {
            let correo = document.getElementById("correoLogin").value;
            if (correo.trim() === "") return alert("Ingresa tu correo");
            localStorage.setItem("usuario", correo);
            cerrarModal("modalAuth");
            abrirModal("modalPago");
        }

        function abrirModal(id) { document.getElementById(id).style.display = "flex"; }
        function cerrarModal(id) { document.getElementById(id).style.display = "none"; }
    </script>
</body>
</html>